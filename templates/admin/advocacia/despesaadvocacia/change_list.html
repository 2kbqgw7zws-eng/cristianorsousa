{% extends "admin/change_list.html" %}
{% load humanize %}

{% block content_title %}
    {{ block.super }}
    
    <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 15px 0 30px 0; border: 1px solid #d1d1d1; display: block; overflow: hidden; clear: both;">
        <h2 style="margin: 0 0 15px 0; color: #444; font-size: 16px; border: none; padding: 0;">
    Resumo de Gastos - Ano: {{ ano_exibido|stringformat:"d" }}
</h2>

        <div style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: flex-start;">
            {% for mes, valor in resumo_financeiro.items %}
                <div style="text-align: center; border: 1px solid #e0e0e0; padding: 8px; border-radius: 6px; min-width: 70px; background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
                    <strong style="color: #777; display: block; font-size: 10px; margin-bottom: 3px; text-transform: uppercase;">{{ mes }}</strong>
                    <span style="font-weight: bold; color: {% if valor > 0 %}#c62828{% else %}#9e9e9e{% endif %}; font-size: 13px;">
                        {{ valor|floatformat:2 }}
                    </span>
                </div>
            {% endfor %}
            
            <div style="text-align: center; border: 1px solid #37474f; padding: 10px; border-radius: 6px; background: #37474f; color: white; min-width: 130px; margin-left: auto;">
                <strong style="display: block; font-size: 10px; margin-bottom: 3px; text-transform: uppercase;">TOTAL EM {{ ano_exibido }}</strong>
                <span style="font-weight: bold; font-size: 15px;">R$ {{ total_geral_ano|floatformat:2 }}</span>
            </div>
        </div>
    </div>
    <hr style="visibility: hidden; clear: both;">
{% endblock %}